<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

 <mapper namespace="admin">
 
	 <select id="getBookCount" resultType="int">
	 	select count(*) from book
	 </select>
	 
	 <select id="getBookList" parameterType="java.util.HashMap" resultType="java.util.List">
	 	select * from book order by book_number desc limit #{startRow}, #{pageSize} 
	 </select>
	 
	 <select id="getBookNum" parameterType="int" resultType="int">
	 	select max(#{book_number}) from book
	 </select>
	 
	 <insert id="insertBook" parameterType="net.book.db.BookDTO">
	 	insert into book (book_number, book_subject, book_author, book_publisher, book_pubDate, 
	 	book_form, book_notation, book_isbn, book_classification, book_date)
	 	values (#{book_number}, #{book_subject}, #{book_author}, #{book_publisher}, #{book_pubDate}, 
	 	#{book_form}, #{book_notation}, #{book_isbn}, #{book_classification}, #{book_date})
	 </insert>
	 
	 <select id="getBookInfo"  parameterType="int" resultType="net.book.db.BookDTO">
	 	select * from book where book_number=#{book_number}
	 </select>
	 
<!-- 	 <select id="getDBookCount" resultType="int"> -->
<!-- 	 	select count(*) from dbook -->
<!-- 	 </select> -->
	 
	 <insert id="insertDBook" parameterType="net.book.db.BookDTO">
	 	insert into dbook (dbook_reason, dbook_state)
	 	values (#{dbook_reason}, #{dbook_state})
	 	where book_number=#{book_number}
	 </insert>
	 
	 <select id="getDBookList" parameterType="java.util.HashMap" resultType="java.util.List">
	  	select * from dbook order by book_number desc limit #{startRow}, #{pageSize} 
	 </select>
	 
	 <select id="getRBookList" parameterType="java.util.HashMap" resultType="java.util.List">
	 	select * from rbook order by book_number desc limit #{startRow}, #{PageSize}
	 </select>
 
 <select id="getMemberCount" parameterType="int">
 	select count(*) as count from member
 </select>
 
 <select id="getMemberList" parameterType="hashmap" resultType="net.member.db.MemberDTO">
		select * from member order by member_name desc limit #{startRow},#{pageSize}
	</select>
	
	 <select id="getMemberInfo"  parameterType="String" resultType="net.member.db.MemberDTO">
 	select * from member where member_id=#{member_id}
 </select>
 
 </mapper>